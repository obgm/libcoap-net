<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcoap: Observe Subscription</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libcoap<span id="projectnumber">&#160;4.3.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__subscribe__internal.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Observe Subscription<div class="ingroups"><a class="el" href="group__internal__api.html">Libcoap Internal API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Internal API for handling CoAP Observe Subscriptions (RFC7641)  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Observe Subscription:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__subscribe__internal.svg" width="370" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcoap__subscription__t.html">coap_subscription_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of notifications that may be sent non-confirmable before a confirmable message is sent to detect if observers are alive.  <a href="structcoap__subscription__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa5db7653f7503be4810d593c5b61ed90" id="r_gaa5db7653f7503be4810d593c5b61ed90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#gaa5db7653f7503be4810d593c5b61ed90">coap_subscription_init</a> (<a class="el" href="structcoap__subscription__t.html">coap_subscription_t</a> *)</td></tr>
<tr class="separator:gaa5db7653f7503be4810d593c5b61ed90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga666aa6a484387ee7217058d2969af4c6" id="r_ga666aa6a484387ee7217058d2969af4c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#ga666aa6a484387ee7217058d2969af4c6">coap_handle_failed_notify</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *context, <a class="el" href="structcoap__session__t.html">coap_session_t</a> *session, const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *token)</td></tr>
<tr class="memdesc:ga666aa6a484387ee7217058d2969af4c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles a failed observe notify.  <br /></td></tr>
<tr class="separator:ga666aa6a484387ee7217058d2969af4c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf32c84889665eec4aded803c84d3b254" id="r_gaf32c84889665eec4aded803c84d3b254"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcoap__subscription__t.html">coap_subscription_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#gaf32c84889665eec4aded803c84d3b254">coap_add_observer</a> (<a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *resource, <a class="el" href="structcoap__session__t.html">coap_session_t</a> *session, const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *token, const <a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *pdu)</td></tr>
<tr class="memdesc:gaf32c84889665eec4aded803c84d3b254"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the specified peer as observer for <code>resource</code>.  <br /></td></tr>
<tr class="separator:gaf32c84889665eec4aded803c84d3b254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a247794a8575166b80999b7898288d6" id="r_ga4a247794a8575166b80999b7898288d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcoap__subscription__t.html">coap_subscription_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#ga4a247794a8575166b80999b7898288d6">coap_find_observer</a> (<a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *resource, <a class="el" href="structcoap__session__t.html">coap_session_t</a> *session, const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *token)</td></tr>
<tr class="memdesc:ga4a247794a8575166b80999b7898288d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a subscription object for given <code>peer</code>.  <br /></td></tr>
<tr class="separator:ga4a247794a8575166b80999b7898288d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbb63302bcda71c79941feb5a6b87ac1" id="r_gafbb63302bcda71c79941feb5a6b87ac1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#gafbb63302bcda71c79941feb5a6b87ac1">coap_touch_observer</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *context, <a class="el" href="structcoap__session__t.html">coap_session_t</a> *session, const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *token)</td></tr>
<tr class="memdesc:gafbb63302bcda71c79941feb5a6b87ac1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags that data is ready to be sent to observers.  <br /></td></tr>
<tr class="separator:gafbb63302bcda71c79941feb5a6b87ac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46be241f6bf76461ca83c442e37d35cf" id="r_ga46be241f6bf76461ca83c442e37d35cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#ga46be241f6bf76461ca83c442e37d35cf">coap_delete_observer</a> (<a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *resource, <a class="el" href="structcoap__session__t.html">coap_session_t</a> *session, const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *token)</td></tr>
<tr class="memdesc:ga46be241f6bf76461ca83c442e37d35cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes any subscription for <code>session</code> observer from <code>resource</code> and releases the allocated storage.  <br /></td></tr>
<tr class="separator:ga46be241f6bf76461ca83c442e37d35cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23f599be3860ed467137fb50360e486f" id="r_ga23f599be3860ed467137fb50360e486f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#ga23f599be3860ed467137fb50360e486f">coap_delete_observer_request</a> (<a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *resource, <a class="el" href="structcoap__session__t.html">coap_session_t</a> *session, const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *token, <a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *request)</td></tr>
<tr class="memdesc:ga23f599be3860ed467137fb50360e486f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes any subscription for <code>session</code> observer from <code>resource</code> and releases the allocated storage.  <br /></td></tr>
<tr class="separator:ga23f599be3860ed467137fb50360e486f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5456a0b3cbb6c2191420632da0c54bbf" id="r_ga5456a0b3cbb6c2191420632da0c54bbf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#ga5456a0b3cbb6c2191420632da0c54bbf">coap_delete_observers</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *context, <a class="el" href="structcoap__session__t.html">coap_session_t</a> *session)</td></tr>
<tr class="memdesc:ga5456a0b3cbb6c2191420632da0c54bbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes any subscription for <code>session</code> and releases the allocated storage.  <br /></td></tr>
<tr class="separator:ga5456a0b3cbb6c2191420632da0c54bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8930054a82b502fc53243622d3b00631" id="r_ga8930054a82b502fc53243622d3b00631"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#ga8930054a82b502fc53243622d3b00631">coap_resource_notify_observers_lkd</a> (<a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *resource, const <a class="el" href="structcoap__string__t.html">coap_string_t</a> *query)</td></tr>
<tr class="memdesc:ga8930054a82b502fc53243622d3b00631"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate the sending of an Observe packet for all observers of <code>resource</code>, optionally matching <code>query</code> if not NULL.  <br /></td></tr>
<tr class="separator:ga8930054a82b502fc53243622d3b00631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga084a976d1f3508884ef25f0fd014479b" id="r_ga084a976d1f3508884ef25f0fd014479b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#ga084a976d1f3508884ef25f0fd014479b">coap_check_notify_lkd</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *context)</td></tr>
<tr class="memdesc:ga084a976d1f3508884ef25f0fd014479b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks all known resources to see if they are dirty and then notifies subscribed observers.  <br /></td></tr>
<tr class="separator:ga084a976d1f3508884ef25f0fd014479b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b8ba69a1e330d932f5f1e58b8c8a07c" id="r_ga2b8ba69a1e330d932f5f1e58b8c8a07c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#ga2b8ba69a1e330d932f5f1e58b8c8a07c">coap_persist_cleanup</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *context)</td></tr>
<tr class="memdesc:ga2b8ba69a1e330d932f5f1e58b8c8a07c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close down persist tracking, releasing any memory used.  <br /></td></tr>
<tr class="separator:ga2b8ba69a1e330d932f5f1e58b8c8a07c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6956cda0fbdd3310b01ed029d4ab522b" id="r_ga6956cda0fbdd3310b01ed029d4ab522b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcoap__subscription__t.html">coap_subscription_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#ga6956cda0fbdd3310b01ed029d4ab522b">coap_persist_observe_add_lkd</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *context, <a class="el" href="group__pdu.html#ga6a42f44f0b183140463e44fe9c8dfec6">coap_proto_t</a> e_proto, const <a class="el" href="structcoap__address__t.html">coap_address_t</a> *e_listen_addr, const <a class="el" href="structcoap__addr__tuple__t.html">coap_addr_tuple_t</a> *s_addr_info, const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *raw_packet, const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *oscore_info)</td></tr>
<tr class="memdesc:ga6956cda0fbdd3310b01ed029d4ab522b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up an active subscription for an observe that was previously active over a coap-server inadvertant restart.  <br /></td></tr>
<tr class="separator:ga6956cda0fbdd3310b01ed029d4ab522b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdab05b01097f2501aa0a15bf46a1fd9" id="r_gafdab05b01097f2501aa0a15bf46a1fd9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#gafdab05b01097f2501aa0a15bf46a1fd9">coap_persist_startup_lkd</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *context, const char *dyn_resource_save_file, const char *observe_save_file, const char *obs_cnt_save_file, uint32_t save_freq)</td></tr>
<tr class="memdesc:gafdab05b01097f2501aa0a15bf46a1fd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start up persist tracking using the libcoap module.  <br /></td></tr>
<tr class="separator:gafdab05b01097f2501aa0a15bf46a1fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ecadc918cae35b14be6cdeb76549eb9" id="r_ga1ecadc918cae35b14be6cdeb76549eb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#ga1ecadc918cae35b14be6cdeb76549eb9">coap_persist_stop_lkd</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *context)</td></tr>
<tr class="memdesc:ga1ecadc918cae35b14be6cdeb76549eb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop tracking persist information, leaving the current persist information in the files defined in <a class="el" href="group__observe.html#gaf630accdbd274b90d312b23d6c1322bf" title="Start up persist tracking using the libcoap module.">coap_persist_startup()</a>.  <br /></td></tr>
<tr class="separator:ga1ecadc918cae35b14be6cdeb76549eb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47af018c34d4e3ffa0c6dcc62662550f" id="r_ga47af018c34d4e3ffa0c6dcc62662550f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__subscribe__internal.html#ga47af018c34d4e3ffa0c6dcc62662550f">coap_cancel_observe_lkd</a> (<a class="el" href="structcoap__session__t.html">coap_session_t</a> *session, <a class="el" href="structcoap__binary__t.html">coap_binary_t</a> *token, <a class="el" href="group__pdu.html#ga896dbeafb92ddb9b0694ba277bb22801">coap_pdu_type_t</a> message_type)</td></tr>
<tr class="memdesc:ga47af018c34d4e3ffa0c6dcc62662550f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel an observe that is being tracked by the client large receive logic.  <br /></td></tr>
<tr class="separator:ga47af018c34d4e3ffa0c6dcc62662550f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Internal API for handling CoAP Observe Subscriptions (RFC7641) </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf32c84889665eec4aded803c84d3b254" name="gaf32c84889665eec4aded803c84d3b254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf32c84889665eec4aded803c84d3b254">&#9670;&#160;</a></span>coap_add_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcoap__subscription__t.html">coap_subscription_t</a> * coap_add_observer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *&#160;</td>
          <td class="paramname"><em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__session__t.html">coap_session_t</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *&#160;</td>
          <td class="paramname"><em>pdu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds the specified peer as observer for <code>resource</code>. </p>
<p>The subscription is identified by the given <code>token</code>. This function returns the registered subscription information if the <code>observer</code> has been added, or <code>NULL</code> on error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resource</td><td>The observed resource. </td></tr>
    <tr><td class="paramname">session</td><td>The observer's session </td></tr>
    <tr><td class="paramname">token</td><td>The token that identifies this subscription. </td></tr>
    <tr><td class="paramname">pdu</td><td>The requesting pdu.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the added/updated subscription information or <code>NULL</code> on error. </dd></dl>

</div>
</div>
<a id="ga47af018c34d4e3ffa0c6dcc62662550f" name="ga47af018c34d4e3ffa0c6dcc62662550f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga47af018c34d4e3ffa0c6dcc62662550f">&#9670;&#160;</a></span>coap_cancel_observe_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_cancel_observe_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__session__t.html">coap_session_t</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__binary__t.html">coap_binary_t</a> *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__pdu.html#ga896dbeafb92ddb9b0694ba277bb22801">coap_pdu_type_t</a>&#160;</td>
          <td class="paramname"><em>message_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel an observe that is being tracked by the client large receive logic. </p>
<p>(<a class="el" href="group__block.html#ga01fc0d92035beec6b18d4467d8c58970" title="Set the context level CoAP block handling bits for handling RFC7959.">coap_context_set_block_mode()</a> has to be called) This will trigger the sending of an observe cancel pdu to the server.</p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session that is being used for the observe. </td></tr>
    <tr><td class="paramname">token</td><td>The original token used to initiate the observation. </td></tr>
    <tr><td class="paramname">message_type</td><td>The COAP_MESSAGE_ type (NON or CON) to send the observe cancel pdu as.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>1</code> if observe cancel transmission initiation is successful, else <code>0</code>. </dd></dl>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__subscribe__internal_ga47af018c34d4e3ffa0c6dcc62662550f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ga084a976d1f3508884ef25f0fd014479b" name="ga084a976d1f3508884ef25f0fd014479b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga084a976d1f3508884ef25f0fd014479b">&#9670;&#160;</a></span>coap_check_notify_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_check_notify_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks all known resources to see if they are dirty and then notifies subscribed observers. </p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The context to check for dirty resources. </td></tr>
  </table>
  </dd>
</dl>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__subscribe__internal_ga084a976d1f3508884ef25f0fd014479b_icgraph.svg" width="100%" height="563"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ga46be241f6bf76461ca83c442e37d35cf" name="ga46be241f6bf76461ca83c442e37d35cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46be241f6bf76461ca83c442e37d35cf">&#9670;&#160;</a></span>coap_delete_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_delete_observer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *&#160;</td>
          <td class="paramname"><em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__session__t.html">coap_session_t</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes any subscription for <code>session</code> observer from <code>resource</code> and releases the allocated storage. </p>
<p>The result is <code>1</code> if an observation relationship with <code>session</code> observer and <code>token</code> existed, <code>0</code> otherwise.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resource</td><td>The observed resource. </td></tr>
    <tr><td class="paramname">session</td><td>The observer's session. </td></tr>
    <tr><td class="paramname">token</td><td>The token that identifies this subscription or <code>NULL</code> for the first subscription.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>1</code> if the observer has been deleted, <code>0</code> otherwise. </dd></dl>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__subscribe__internal_ga46be241f6bf76461ca83c442e37d35cf_icgraph.svg" width="100%" height="495"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ga23f599be3860ed467137fb50360e486f" name="ga23f599be3860ed467137fb50360e486f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga23f599be3860ed467137fb50360e486f">&#9670;&#160;</a></span>coap_delete_observer_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_delete_observer_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *&#160;</td>
          <td class="paramname"><em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__session__t.html">coap_session_t</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes any subscription for <code>session</code> observer from <code>resource</code> and releases the allocated storage. </p>
<p>The result is <code>1</code> if an observation relationship with <code>session</code> observer and <code>token</code> existed, or cache-key derived from <code>request</code> matches, <code>0</code> otherwise.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resource</td><td>The observed resource. </td></tr>
    <tr><td class="paramname">session</td><td>The observer's session. </td></tr>
    <tr><td class="paramname">token</td><td>The token that identifies this subscription or <code>NULL</code> for the first subscription. </td></tr>
    <tr><td class="paramname">request</td><td>The requesting PDU.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>1</code> if the observer has been deleted, <code>0</code> otherwise. </dd></dl>

</div>
</div>
<a id="ga5456a0b3cbb6c2191420632da0c54bbf" name="ga5456a0b3cbb6c2191420632da0c54bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5456a0b3cbb6c2191420632da0c54bbf">&#9670;&#160;</a></span>coap_delete_observers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_delete_observers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__session__t.html">coap_session_t</a> *&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes any subscription for <code>session</code> and releases the allocated storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The CoAP context to use. </td></tr>
    <tr><td class="paramname">session</td><td>The observer's session. </td></tr>
  </table>
  </dd>
</dl>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__subscribe__internal_ga5456a0b3cbb6c2191420632da0c54bbf_icgraph.svg" width="100%" height="514"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ga4a247794a8575166b80999b7898288d6" name="ga4a247794a8575166b80999b7898288d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a247794a8575166b80999b7898288d6">&#9670;&#160;</a></span>coap_find_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcoap__subscription__t.html">coap_subscription_t</a> * coap_find_observer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *&#160;</td>
          <td class="paramname"><em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__session__t.html">coap_session_t</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a subscription object for given <code>peer</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resource</td><td>The observed resource. </td></tr>
    <tr><td class="paramname">session</td><td>The observer's session </td></tr>
    <tr><td class="paramname">token</td><td>The token that identifies this subscription or <code>NULL</code> for the first subscription.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A valid subscription if exists or <code>NULL</code> otherwise. </dd></dl>

</div>
</div>
<a id="ga666aa6a484387ee7217058d2969af4c6" name="ga666aa6a484387ee7217058d2969af4c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga666aa6a484387ee7217058d2969af4c6">&#9670;&#160;</a></span>coap_handle_failed_notify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_handle_failed_notify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__session__t.html">coap_session_t</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles a failed observe notify. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The context holding the resource. </td></tr>
    <tr><td class="paramname">session</td><td>The session that the observe notify failed on. </td></tr>
    <tr><td class="paramname">token</td><td>The token used when the observe notify failed. </td></tr>
  </table>
  </dd>
</dl>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__subscribe__internal_ga666aa6a484387ee7217058d2969af4c6_icgraph.svg" width="100%" height="563"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ga2b8ba69a1e330d932f5f1e58b8c8a07c" name="ga2b8ba69a1e330d932f5f1e58b8c8a07c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b8ba69a1e330d932f5f1e58b8c8a07c">&#9670;&#160;</a></span>coap_persist_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_persist_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close down persist tracking, releasing any memory used. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The current CoAP context. </td></tr>
  </table>
  </dd>
</dl>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__subscribe__internal_ga2b8ba69a1e330d932f5f1e58b8c8a07c_icgraph.svg" width="582" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga6956cda0fbdd3310b01ed029d4ab522b" name="ga6956cda0fbdd3310b01ed029d4ab522b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6956cda0fbdd3310b01ed029d4ab522b">&#9670;&#160;</a></span>coap_persist_observe_add_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcoap__subscription__t.html">coap_subscription_t</a> * coap_persist_observe_add_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__pdu.html#ga6a42f44f0b183140463e44fe9c8dfec6">coap_proto_t</a>&#160;</td>
          <td class="paramname"><em>e_proto</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__address__t.html">coap_address_t</a> *&#160;</td>
          <td class="paramname"><em>e_listen_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__addr__tuple__t.html">coap_addr_tuple_t</a> *&#160;</td>
          <td class="paramname"><em>s_addr_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *&#160;</td>
          <td class="paramname"><em>raw_packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *&#160;</td>
          <td class="paramname"><em>oscore_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up an active subscription for an observe that was previously active over a coap-server inadvertant restart. </p>
<p>Only UDP sessions currently supported.</p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The context that the session is to be associated with. </td></tr>
    <tr><td class="paramname">e_proto</td><td>The CoAP protocol in use for the session / endpoint. </td></tr>
    <tr><td class="paramname">e_listen_addr</td><td>The IP/port that the endpoint is listening on. </td></tr>
    <tr><td class="paramname">s_addr_info</td><td>Local / Remote IP addresses. ports etc. of previous session. </td></tr>
    <tr><td class="paramname">raw_packet</td><td>L7 packet as seen on the wire (could be concatenated if Block1 FETCH is being used). </td></tr>
    <tr><td class="paramname">oscore_info</td><td>Has OSCORE information if OSCORE is protecting the session or NULL if OSCORE is not in use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ptr to subscription if success else <code>NULL</code>. </dd></dl>

</div>
</div>
<a id="gafdab05b01097f2501aa0a15bf46a1fd9" name="gafdab05b01097f2501aa0a15bf46a1fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdab05b01097f2501aa0a15bf46a1fd9">&#9670;&#160;</a></span>coap_persist_startup_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_persist_startup_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dyn_resource_save_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>observe_save_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>obs_cnt_save_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>save_freq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start up persist tracking using the libcoap module. </p>
<p>If the files already exist with saved data, then this information is used in building back up the persist information.</p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The current CoAP context. </td></tr>
    <tr><td class="paramname">dyn_resource_save_file</td><td>File where dynamically created resource information is stored or NULL if not required. </td></tr>
    <tr><td class="paramname">observe_save_file</td><td>File where observe information is stored or NULL if not required. </td></tr>
    <tr><td class="paramname">obs_cnt_save_file</td><td>File where resource observe counter information is stored or NULL if not required. </td></tr>
    <tr><td class="paramname">save_freq</td><td>Frequency of change of observe value for calling the save observe counter logic.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>1</code> if success else <code>0</code>. </dd></dl>

</div>
</div>
<a id="ga1ecadc918cae35b14be6cdeb76549eb9" name="ga1ecadc918cae35b14be6cdeb76549eb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ecadc918cae35b14be6cdeb76549eb9">&#9670;&#160;</a></span>coap_persist_stop_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_persist_stop_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop tracking persist information, leaving the current persist information in the files defined in <a class="el" href="group__observe.html#gaf630accdbd274b90d312b23d6c1322bf" title="Start up persist tracking using the libcoap module.">coap_persist_startup()</a>. </p>
<p>It is then safe to call <a class="el" href="group__context.html#ga76bf8288b83c57bcd32d8c292d4e999b" title="CoAP stack context must be released with coap_free_context().">coap_free_context()</a> to close the application down cleanly.</p>
<p>Note: This function must be called in the locked state.</p>
<p>Alternatively, if <a class="el" href="group__observe.html#gab3b71f0b81dce4244f3a420e5b515292" title="Set up callbacks to handle persist tracking so on a coap-server inadvertent restart,...">coap_persist_track_funcs()</a> was called, then this will disable all the callbacks, as well as making sure that no 4.04 is sent out for any active observe subscriptions when the resource is deleted after subsequently calling <a class="el" href="group__context.html#ga76bf8288b83c57bcd32d8c292d4e999b" title="CoAP stack context must be released with coap_free_context().">coap_free_context()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The context that tracking information is to be stopped on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8930054a82b502fc53243622d3b00631" name="ga8930054a82b502fc53243622d3b00631"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8930054a82b502fc53243622d3b00631">&#9670;&#160;</a></span>coap_resource_notify_observers_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_resource_notify_observers_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *&#160;</td>
          <td class="paramname"><em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__string__t.html">coap_string_t</a> *&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate the sending of an Observe packet for all observers of <code>resource</code>, optionally matching <code>query</code> if not NULL. </p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resource</td><td>The CoAP resource to use. </td></tr>
    <tr><td class="paramname">query</td><td>The Query to match against or NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>1</code> if the Observe has been triggered, <code>0</code> otherwise. </dd></dl>

</div>
</div>
<a id="gaa5db7653f7503be4810d593c5b61ed90" name="gaa5db7653f7503be4810d593c5b61ed90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa5db7653f7503be4810d593c5b61ed90">&#9670;&#160;</a></span>coap_subscription_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_subscription_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__subscription__t.html">coap_subscription_t</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gafbb63302bcda71c79941feb5a6b87ac1" name="gafbb63302bcda71c79941feb5a6b87ac1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbb63302bcda71c79941feb5a6b87ac1">&#9670;&#160;</a></span>coap_touch_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_touch_observer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__session__t.html">coap_session_t</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__bin__const__t.html">coap_bin_const_t</a> *&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags that data is ready to be sent to observers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The CoAP context to use. </td></tr>
    <tr><td class="paramname">session</td><td>The observer's session </td></tr>
    <tr><td class="paramname">token</td><td>The corresponding token that has been used for the subscription. </td></tr>
  </table>
  </dd>
</dl>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__subscribe__internal_gafbb63302bcda71c79941feb5a6b87ac1_icgraph.svg" width="100%" height="495"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Sep 7 2024 00:02:05 for libcoap by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
