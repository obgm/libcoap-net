<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcoap: Application I/O Handling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libcoap<span id="projectnumber">&#160;4.3.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__app__io__internal.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Application I/O Handling<div class="ingroups"><a class="el" href="group__internal__api.html">Libcoap Internal API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Internal API for Application Input / Output checking.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Application I/O Handling:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__app__io__internal.svg" width="388" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga60fc8d114c50d9c30701ebbf4417b43c" id="r_ga60fc8d114c50d9c30701ebbf4417b43c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io__internal.html#ga60fc8d114c50d9c30701ebbf4417b43c">coap_io_do_io_lkd</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *ctx, <a class="el" href="group__clock.html#ga97ff1502e211b4ee6c3f15a598833438">coap_tick_t</a> now)</td></tr>
<tr class="memdesc:ga60fc8d114c50d9c30701ebbf4417b43c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes any outstanding read, write, accept or connect I/O as indicated in the <a class="el" href="structcoap__socket__t.html">coap_socket_t</a> structures (COAP_SOCKET_CAN_xxx set) embedded in endpoints or sessions associated with <code>ctx</code>.  <br /></td></tr>
<tr class="separator:ga60fc8d114c50d9c30701ebbf4417b43c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16a04e534316586853e010ddeec64bd7" id="r_ga16a04e534316586853e010ddeec64bd7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io__internal.html#ga16a04e534316586853e010ddeec64bd7">coap_io_do_epoll_lkd</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *ctx, struct epoll_event *events, size_t nevents)</td></tr>
<tr class="memdesc:ga16a04e534316586853e010ddeec64bd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process all the epoll events.  <br /></td></tr>
<tr class="separator:ga16a04e534316586853e010ddeec64bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3db928bd0e68b72fb53001495a2e3bac" id="r_ga3db928bd0e68b72fb53001495a2e3bac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io__internal.html#ga3db928bd0e68b72fb53001495a2e3bac">coap_io_pending_lkd</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *context)</td></tr>
<tr class="memdesc:ga3db928bd0e68b72fb53001495a2e3bac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if there is any i/o pending for the <code>context</code>.  <br /></td></tr>
<tr class="separator:ga3db928bd0e68b72fb53001495a2e3bac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade3ed4566ae99eaf4fb7bd50f7c23822" id="r_gade3ed4566ae99eaf4fb7bd50f7c23822"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io__internal.html#gade3ed4566ae99eaf4fb7bd50f7c23822">coap_io_prepare_epoll_lkd</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *ctx, <a class="el" href="group__clock.html#ga97ff1502e211b4ee6c3f15a598833438">coap_tick_t</a> now)</td></tr>
<tr class="memdesc:gade3ed4566ae99eaf4fb7bd50f7c23822"><td class="mdescLeft">&#160;</td><td class="mdescRight">Any now timed out delayed packet is transmitted, along with any packets associated with requested observable response.  <br /></td></tr>
<tr class="separator:gade3ed4566ae99eaf4fb7bd50f7c23822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacaa3af99c009b68f13f5c05aefdac41d" id="r_gacaa3af99c009b68f13f5c05aefdac41d"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io__internal.html#gacaa3af99c009b68f13f5c05aefdac41d">coap_io_prepare_io_lkd</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *ctx, <a class="el" href="structcoap__socket__t.html">coap_socket_t</a> *sockets[], unsigned int max_sockets, unsigned int *num_sockets, <a class="el" href="group__clock.html#ga97ff1502e211b4ee6c3f15a598833438">coap_tick_t</a> now)</td></tr>
<tr class="memdesc:gacaa3af99c009b68f13f5c05aefdac41d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterates through all the <a class="el" href="structcoap__socket__t.html">coap_socket_t</a> structures embedded in endpoints or sessions associated with the <code>ctx</code> to determine which are wanting any read, write, accept or connect I/O (COAP_SOCKET_WANT_xxx is set).  <br /></td></tr>
<tr class="separator:gacaa3af99c009b68f13f5c05aefdac41d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaacf6492e591390793c32fa2974a620b2" id="r_gaacf6492e591390793c32fa2974a620b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io__internal.html#gaacf6492e591390793c32fa2974a620b2">coap_io_process_lkd</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *ctx, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:gaacf6492e591390793c32fa2974a620b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main I/O processing function.  <br /></td></tr>
<tr class="separator:gaacf6492e591390793c32fa2974a620b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac72796b7754e146e86da15fa5f8d5992" id="r_gac72796b7754e146e86da15fa5f8d5992"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io__internal.html#gac72796b7754e146e86da15fa5f8d5992">coap_io_process_with_fds_lkd</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *ctx, uint32_t timeout_ms, int nfds, fd_set *readfds, fd_set *writefds, fd_set *exceptfds)</td></tr>
<tr class="memdesc:gac72796b7754e146e86da15fa5f8d5992"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main message processing loop with additional fds for internal select.  <br /></td></tr>
<tr class="separator:gac72796b7754e146e86da15fa5f8d5992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae138b6aba5c244fb8e582e63615f5112" id="r_gae138b6aba5c244fb8e582e63615f5112"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__pdu.html#ga4ba42c25ccd68d85372844bc4fc027d9">coap_mid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io__internal.html#gae138b6aba5c244fb8e582e63615f5112">coap_send_lkd</a> (<a class="el" href="structcoap__session__t.html">coap_session_t</a> *session, <a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *pdu)</td></tr>
<tr class="memdesc:gae138b6aba5c244fb8e582e63615f5112"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a CoAP message to given peer.  <br /></td></tr>
<tr class="separator:gae138b6aba5c244fb8e582e63615f5112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e79981fe16b1e1797a7a8828f7e4c67" id="r_ga5e79981fe16b1e1797a7a8828f7e4c67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__pdu.html#ga4ba42c25ccd68d85372844bc4fc027d9">coap_mid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io__internal.html#ga5e79981fe16b1e1797a7a8828f7e4c67">coap_send_error_lkd</a> (<a class="el" href="structcoap__session__t.html">coap_session_t</a> *session, const <a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *request, <a class="el" href="group__pdu.html#ga7a8da3647786294fbd03729343b844f5">coap_pdu_code_t</a> code, <a class="el" href="structcoap__opt__filter__t.html">coap_opt_filter_t</a> *opts)</td></tr>
<tr class="memdesc:ga5e79981fe16b1e1797a7a8828f7e4c67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an error response with code <code>code</code> for request <code>request</code> to <code>dst</code>.  <br /></td></tr>
<tr class="separator:ga5e79981fe16b1e1797a7a8828f7e4c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3744d7f959bb156cae5d54245f1c45cc" id="r_ga3744d7f959bb156cae5d54245f1c45cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__pdu.html#ga4ba42c25ccd68d85372844bc4fc027d9">coap_mid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io__internal.html#ga3744d7f959bb156cae5d54245f1c45cc">coap_send_message_type_lkd</a> (<a class="el" href="structcoap__session__t.html">coap_session_t</a> *session, const <a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *request, <a class="el" href="group__pdu.html#ga896dbeafb92ddb9b0694ba277bb22801">coap_pdu_type_t</a> type)</td></tr>
<tr class="memdesc:ga3744d7f959bb156cae5d54245f1c45cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to create and send a message with <code>type</code> (usually ACK or RST).  <br /></td></tr>
<tr class="separator:ga3744d7f959bb156cae5d54245f1c45cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaedffdc1b9bbfb21551df55b94f85abc2" id="r_gaedffdc1b9bbfb21551df55b94f85abc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__pdu.html#ga4ba42c25ccd68d85372844bc4fc027d9">coap_mid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io__internal.html#gaedffdc1b9bbfb21551df55b94f85abc2">coap_send_ack_lkd</a> (<a class="el" href="structcoap__session__t.html">coap_session_t</a> *session, const <a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *request)</td></tr>
<tr class="memdesc:gaedffdc1b9bbfb21551df55b94f85abc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an ACK message with code <code>0</code> for the specified <code>request</code> to <code>dst</code>.  <br /></td></tr>
<tr class="separator:gaedffdc1b9bbfb21551df55b94f85abc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21da56be4e4ff935d98d612687da3906" id="r_ga21da56be4e4ff935d98d612687da3906"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__pdu.html#ga4ba42c25ccd68d85372844bc4fc027d9">coap_mid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io__internal.html#ga21da56be4e4ff935d98d612687da3906">coap_send_rst_lkd</a> (<a class="el" href="structcoap__session__t.html">coap_session_t</a> *session, const <a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *request)</td></tr>
<tr class="memdesc:ga21da56be4e4ff935d98d612687da3906"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an RST message with code <code>0</code> for the specified <code>request</code> to <code>dst</code>.  <br /></td></tr>
<tr class="separator:ga21da56be4e4ff935d98d612687da3906"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Internal API for Application Input / Output checking. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga16a04e534316586853e010ddeec64bd7" name="ga16a04e534316586853e010ddeec64bd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16a04e534316586853e010ddeec64bd7">&#9670;&#160;</a></span>coap_io_do_epoll_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_io_do_epoll_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct epoll_event *&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nevents</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process all the epoll events. </p>
<p>Note: If epoll support is compiled into libcoap, <a class="el" href="group__app__io__internal.html#ga16a04e534316586853e010ddeec64bd7" title="Process all the epoll events.">coap_io_do_epoll_lkd()</a> must be used instead of <a class="el" href="group__app__io__internal.html#ga60fc8d114c50d9c30701ebbf4417b43c" title="Processes any outstanding read, write, accept or connect I/O as indicated in the coap_socket_t struct...">coap_io_do_io_lkd()</a>.</p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The current CoAP context. </td></tr>
    <tr><td class="paramname">events</td><td>The list of events returned from an epoll_wait() call. </td></tr>
    <tr><td class="paramname">nevents</td><td>The number of events. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="coap__net_8c_source.html#l02378">2378</a> of file <a class="el" href="coap__net_8c_source.html">coap_net.c</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_ga16a04e534316586853e010ddeec64bd7_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_ga16a04e534316586853e010ddeec64bd7_icgraph.svg" width="100%" height="470"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ga60fc8d114c50d9c30701ebbf4417b43c" name="ga60fc8d114c50d9c30701ebbf4417b43c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga60fc8d114c50d9c30701ebbf4417b43c">&#9670;&#160;</a></span>coap_io_do_io_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_io_do_io_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__clock.html#ga97ff1502e211b4ee6c3f15a598833438">coap_tick_t</a>&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes any outstanding read, write, accept or connect I/O as indicated in the <a class="el" href="structcoap__socket__t.html">coap_socket_t</a> structures (COAP_SOCKET_CAN_xxx set) embedded in endpoints or sessions associated with <code>ctx</code>. </p>
<p>Note: If epoll support is compiled into libcoap, <a class="el" href="group__app__io__internal.html#ga16a04e534316586853e010ddeec64bd7" title="Process all the epoll events.">coap_io_do_epoll_lkd()</a> must be used instead of <a class="el" href="group__app__io__internal.html#ga60fc8d114c50d9c30701ebbf4417b43c" title="Processes any outstanding read, write, accept or connect I/O as indicated in the coap_socket_t struct...">coap_io_do_io_lkd()</a>.</p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The CoAP context </td></tr>
    <tr><td class="paramname">now</td><td>Current time </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="coap__net_8c_source.html#l02313">2313</a> of file <a class="el" href="coap__net_8c_source.html">coap_net.c</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_ga60fc8d114c50d9c30701ebbf4417b43c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_ga60fc8d114c50d9c30701ebbf4417b43c_icgraph.svg" width="100%" height="470"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ga3db928bd0e68b72fb53001495a2e3bac" name="ga3db928bd0e68b72fb53001495a2e3bac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3db928bd0e68b72fb53001495a2e3bac">&#9670;&#160;</a></span>coap_io_pending_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_io_pending_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check to see if there is any i/o pending for the <code>context</code>. </p>
<p>This includes Observe active (client) and partial large block transfers.</p>
<p>Note: This function must be called in the locked state.</p>
<p><a class="el" href="group__app__io__internal.html#gaacf6492e591390793c32fa2974a620b2" title="The main I/O processing function.">coap_io_process_lkd()</a> is called internally to try to send outstanding data as well as process any packets just received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The CoAP context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>1</code> I/O still pending, <code>0</code> no I/O pending. </dd></dl>

<p class="definition">Definition at line <a class="el" href="coap__io_8c_source.html#l01839">1839</a> of file <a class="el" href="coap__io_8c_source.html">coap_io.c</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_ga3db928bd0e68b72fb53001495a2e3bac_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_ga3db928bd0e68b72fb53001495a2e3bac_icgraph.svg" width="348" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gade3ed4566ae99eaf4fb7bd50f7c23822" name="gade3ed4566ae99eaf4fb7bd50f7c23822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade3ed4566ae99eaf4fb7bd50f7c23822">&#9670;&#160;</a></span>coap_io_prepare_epoll_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int coap_io_prepare_epoll_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__clock.html#ga97ff1502e211b4ee6c3f15a598833438">coap_tick_t</a>&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Any now timed out delayed packet is transmitted, along with any packets associated with requested observable response. </p>
<p>In addition, it returns when the next expected I/O is expected to take place (e.g. a packet retransmit).</p>
<p>Note: If epoll support is compiled into libcoap, <a class="el" href="group__app__io__internal.html#gade3ed4566ae99eaf4fb7bd50f7c23822" title="Any now timed out delayed packet is transmitted, along with any packets associated with requested obs...">coap_io_prepare_epoll_lkd()</a> must be used instead of <a class="el" href="group__app__io__internal.html#gacaa3af99c009b68f13f5c05aefdac41d" title="Iterates through all the coap_socket_t structures embedded in endpoints or sessions associated with t...">coap_io_prepare_io_lkd()</a>.</p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The CoAP context </td></tr>
    <tr><td class="paramname">now</td><td>Current time.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>timeout Maxmimum number of milliseconds that can be used by a epoll_wait() to wait for network events or 0 if wait should be forever. </dd></dl>

<p class="definition">Definition at line <a class="el" href="coap__io_8c_source.html#l01252">1252</a> of file <a class="el" href="coap__io_8c_source.html">coap_io.c</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_gade3ed4566ae99eaf4fb7bd50f7c23822_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_gade3ed4566ae99eaf4fb7bd50f7c23822_icgraph.svg" width="100%" height="490"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="gacaa3af99c009b68f13f5c05aefdac41d" name="gacaa3af99c009b68f13f5c05aefdac41d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacaa3af99c009b68f13f5c05aefdac41d">&#9670;&#160;</a></span>coap_io_prepare_io_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int coap_io_prepare_io_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__socket__t.html">coap_socket_t</a> *&#160;</td>
          <td class="paramname"><em>sockets</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>max_sockets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>num_sockets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__clock.html#ga97ff1502e211b4ee6c3f15a598833438">coap_tick_t</a>&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Iterates through all the <a class="el" href="structcoap__socket__t.html">coap_socket_t</a> structures embedded in endpoints or sessions associated with the <code>ctx</code> to determine which are wanting any read, write, accept or connect I/O (COAP_SOCKET_WANT_xxx is set). </p>
<p>If set, the <a class="el" href="structcoap__socket__t.html">coap_socket_t</a> is added to the <code>sockets</code>.</p>
<p>Any now timed out delayed packet is transmitted, along with any packets associated with requested observable response.</p>
<p>In addition, it returns when the next expected I/O is expected to take place (e.g. a packet retransmit).</p>
<p>Prior to calling <a class="el" href="group__app__io__internal.html#ga60fc8d114c50d9c30701ebbf4417b43c" title="Processes any outstanding read, write, accept or connect I/O as indicated in the coap_socket_t struct...">coap_io_do_io_lkd()</a>, the <code>sockets</code> must be tested to see if any of the COAP_SOCKET_WANT_xxx have the appropriate information and if so, COAP_SOCKET_CAN_xxx is set. This typically will be done after using a select() call.</p>
<p>Note: If epoll support is compiled into libcoap, <a class="el" href="group__app__io__internal.html#gade3ed4566ae99eaf4fb7bd50f7c23822" title="Any now timed out delayed packet is transmitted, along with any packets associated with requested obs...">coap_io_prepare_epoll_lkd()</a> must be used instead of <a class="el" href="group__app__io__internal.html#gacaa3af99c009b68f13f5c05aefdac41d" title="Iterates through all the coap_socket_t structures embedded in endpoints or sessions associated with t...">coap_io_prepare_io_lkd()</a>.</p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The CoAP context </td></tr>
    <tr><td class="paramname">sockets</td><td>Array of socket descriptors, filled on output </td></tr>
    <tr><td class="paramname">max_sockets</td><td>Size of socket array. </td></tr>
    <tr><td class="paramname">num_sockets</td><td>Pointer to the number of valid entries in the socket arrays on output. </td></tr>
    <tr><td class="paramname">now</td><td>Current time.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>timeout Maxmimum number of milliseconds that can be used by a select() to wait for network events or 0 if wait should be forever. </dd></dl>

<p class="definition">Definition at line <a class="el" href="coap__io_8c_source.html#l01321">1321</a> of file <a class="el" href="coap__io_8c_source.html">coap_io.c</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_gacaa3af99c009b68f13f5c05aefdac41d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_gacaa3af99c009b68f13f5c05aefdac41d_icgraph.svg" width="100%" height="563"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="gaacf6492e591390793c32fa2974a620b2" name="gaacf6492e591390793c32fa2974a620b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaacf6492e591390793c32fa2974a620b2">&#9670;&#160;</a></span>coap_io_process_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_io_process_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main I/O processing function. </p>
<p>All pending network I/O is completed, and then optionally waits for the next input packet.</p>
<p>This internally calls <a class="el" href="group__app__io__internal.html#gacaa3af99c009b68f13f5c05aefdac41d" title="Iterates through all the coap_socket_t structures embedded in endpoints or sessions associated with t...">coap_io_prepare_io_lkd()</a>, then select() for the appropriate sockets, updates COAP_SOCKET_CAN_xxx where appropriate and then calls <a class="el" href="group__app__io__internal.html#ga60fc8d114c50d9c30701ebbf4417b43c" title="Processes any outstanding read, write, accept or connect I/O as indicated in the coap_socket_t struct...">coap_io_do_io_lkd()</a> before returning with the time spent in the function.</p>
<p>Alternatively, if libcoap is compiled with epoll support, this internally calls <a class="el" href="group__app__io__internal.html#gade3ed4566ae99eaf4fb7bd50f7c23822" title="Any now timed out delayed packet is transmitted, along with any packets associated with requested obs...">coap_io_prepare_epoll_lkd()</a>, then epoll_wait() for waiting for any file descriptors that have (internally) been set up with epoll_ctl() and finally <a class="el" href="group__app__io__internal.html#ga16a04e534316586853e010ddeec64bd7" title="Process all the epoll events.">coap_io_do_epoll_lkd()</a> before returning with the time spent in the function.</p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The CoAP context </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Minimum number of milliseconds to wait for new packets before returning after doing any processing. If COAP_IO_WAIT, the call will block until the next internal action (e.g. packet retransmit) if any, or block until the next packet is received whichever is the sooner and do the necessary processing. If COAP_IO_NO_WAIT, the function will return immediately after processing without waiting for any new input packets to arrive.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of milliseconds spent in function or <code>-1</code> if there was an error </dd></dl>

<p class="definition">Definition at line <a class="el" href="coap__io_8c_source.html#l01591">1591</a> of file <a class="el" href="coap__io_8c_source.html">coap_io.c</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_gaacf6492e591390793c32fa2974a620b2_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_gaacf6492e591390793c32fa2974a620b2_icgraph.svg" width="100%" height="470"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="gac72796b7754e146e86da15fa5f8d5992" name="gac72796b7754e146e86da15fa5f8d5992"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac72796b7754e146e86da15fa5f8d5992">&#9670;&#160;</a></span>coap_io_process_with_fds_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_io_process_with_fds_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&#160;</td>
          <td class="paramname"><em>readfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&#160;</td>
          <td class="paramname"><em>writefds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&#160;</td>
          <td class="paramname"><em>exceptfds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main message processing loop with additional fds for internal select. </p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The CoAP context </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Minimum number of milliseconds to wait for new packets before returning after doing any processing. If COAP_IO_WAIT, the call will block until the next internal action (e.g. packet retransmit) if any, or block until the next packet is received whichever is the sooner and do the necessary processing. If COAP_IO_NO_WAIT, the function will return immediately after processing without waiting for any new input packets to arrive. </td></tr>
    <tr><td class="paramname">nfds</td><td>The maximum FD set in readfds, writefds or exceptfds plus one, </td></tr>
    <tr><td class="paramname">readfds</td><td>Read FDs to additionally check for in internal select() or NULL if not required. </td></tr>
    <tr><td class="paramname">writefds</td><td>Write FDs to additionally check for in internal select() or NULL if not required. </td></tr>
    <tr><td class="paramname">exceptfds</td><td>Except FDs to additionally check for in internal select() or NULL if not required.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of milliseconds spent in coap_io_process_with_fds_lkd, or <code>-1</code> if there was an error. If defined, readfds, writefds, exceptfds are updated as returned by the internal select() call. </dd></dl>

<p class="definition">Definition at line <a class="el" href="coap__io_8c_source.html#l01609">1609</a> of file <a class="el" href="coap__io_8c_source.html">coap_io.c</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_gac72796b7754e146e86da15fa5f8d5992_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_gac72796b7754e146e86da15fa5f8d5992_icgraph.svg" width="100%" height="470"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="gaedffdc1b9bbfb21551df55b94f85abc2" name="gaedffdc1b9bbfb21551df55b94f85abc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaedffdc1b9bbfb21551df55b94f85abc2">&#9670;&#160;</a></span>coap_send_ack_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__pdu.html#ga4ba42c25ccd68d85372844bc4fc027d9">coap_mid_t</a> coap_send_ack_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__session__t.html">coap_session_t</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends an ACK message with code <code>0</code> for the specified <code>request</code> to <code>dst</code>. </p>
<p>This function returns the corresponding message id if the message was sent or <code>COAP_INVALID_MID</code> on error.</p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The CoAP session. </td></tr>
    <tr><td class="paramname">request</td><td>The request to be acknowledged.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message id if ACK was sent or <code>COAP_INVALID_MID</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="coap__net_8c_source.html#l00986">986</a> of file <a class="el" href="coap__net_8c_source.html">coap_net.c</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_gaedffdc1b9bbfb21551df55b94f85abc2_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_gaedffdc1b9bbfb21551df55b94f85abc2_icgraph.svg" width="328" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga5e79981fe16b1e1797a7a8828f7e4c67" name="ga5e79981fe16b1e1797a7a8828f7e4c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e79981fe16b1e1797a7a8828f7e4c67">&#9670;&#160;</a></span>coap_send_error_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__pdu.html#ga4ba42c25ccd68d85372844bc4fc027d9">coap_mid_t</a> coap_send_error_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__session__t.html">coap_session_t</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__pdu.html#ga7a8da3647786294fbd03729343b844f5">coap_pdu_code_t</a>&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__opt__filter__t.html">coap_opt_filter_t</a> *&#160;</td>
          <td class="paramname"><em>opts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends an error response with code <code>code</code> for request <code>request</code> to <code>dst</code>. </p>
<p><code>opts</code> will be passed to <a class="el" href="group__context.html#ga47427850288b1d6e73d4b35d633d100e" title="Creates a new ACK PDU with specified error code.">coap_new_error_response()</a> to copy marked options from the request. This function returns the message id if the message was sent, or <code>COAP_INVALID_MID</code> otherwise.</p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The CoAP session. </td></tr>
    <tr><td class="paramname">request</td><td>The original request to respond to. </td></tr>
    <tr><td class="paramname">code</td><td>The response code. </td></tr>
    <tr><td class="paramname">opts</td><td>A filter that specifies the options to copy from the <code>request</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message id if the message was sent, or <code>COAP_INVALID_MID</code> otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="coap__net_8c_source.html#l01066">1066</a> of file <a class="el" href="coap__net_8c_source.html">coap_net.c</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_ga5e79981fe16b1e1797a7a8828f7e4c67_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_ga5e79981fe16b1e1797a7a8828f7e4c67_icgraph.svg" width="344" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gae138b6aba5c244fb8e582e63615f5112" name="gae138b6aba5c244fb8e582e63615f5112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae138b6aba5c244fb8e582e63615f5112">&#9670;&#160;</a></span>coap_send_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__pdu.html#ga4ba42c25ccd68d85372844bc4fc027d9">coap_mid_t</a> coap_send_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__session__t.html">coap_session_t</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *&#160;</td>
          <td class="paramname"><em>pdu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a CoAP message to given peer. </p>
<p>The memory that is allocated for the pdu will be released by <a class="el" href="group__app__io__internal.html#gae138b6aba5c244fb8e582e63615f5112" title="Sends a CoAP message to given peer.">coap_send_lkd()</a>. The caller must not use or delete the pdu after calling <a class="el" href="group__app__io__internal.html#gae138b6aba5c244fb8e582e63615f5112" title="Sends a CoAP message to given peer.">coap_send_lkd()</a>.</p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The CoAP session. </td></tr>
    <tr><td class="paramname">pdu</td><td>The CoAP PDU to send.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message id of the sent message or <code>COAP_INVALID_MID</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="coap__net_8c_source.html#l01356">1356</a> of file <a class="el" href="coap__net_8c_source.html">coap_net.c</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_gae138b6aba5c244fb8e582e63615f5112_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_gae138b6aba5c244fb8e582e63615f5112_icgraph.svg" width="268" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga3744d7f959bb156cae5d54245f1c45cc" name="ga3744d7f959bb156cae5d54245f1c45cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3744d7f959bb156cae5d54245f1c45cc">&#9670;&#160;</a></span>coap_send_message_type_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__pdu.html#ga4ba42c25ccd68d85372844bc4fc027d9">coap_mid_t</a> coap_send_message_type_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__session__t.html">coap_session_t</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__pdu.html#ga896dbeafb92ddb9b0694ba277bb22801">coap_pdu_type_t</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to create and send a message with <code>type</code> (usually ACK or RST). </p>
<p>This function returns <code>COAP_INVALID_MID</code> when the message was not sent, a valid transaction id otherwise.</p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The CoAP session. </td></tr>
    <tr><td class="paramname">request</td><td>The request that should be responded to. </td></tr>
    <tr><td class="paramname">type</td><td>Which type to set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>message id on success or <code>COAP_INVALID_MID</code> otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="coap__net_8c_source.html#l01095">1095</a> of file <a class="el" href="coap__net_8c_source.html">coap_net.c</a>.</p>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_ga3744d7f959bb156cae5d54245f1c45cc_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_ga3744d7f959bb156cae5d54245f1c45cc_icgraph.svg" width="100%" height="528"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ga21da56be4e4ff935d98d612687da3906" name="ga21da56be4e4ff935d98d612687da3906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21da56be4e4ff935d98d612687da3906">&#9670;&#160;</a></span>coap_send_rst_lkd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__pdu.html#ga4ba42c25ccd68d85372844bc4fc027d9">coap_mid_t</a> coap_send_rst_lkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__session__t.html">coap_session_t</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__pdu__t.html">coap_pdu_t</a> *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends an RST message with code <code>0</code> for the specified <code>request</code> to <code>dst</code>. </p>
<p>This function returns the corresponding message id if the message was sent or <code>COAP_INVALID_MID</code> on error.</p>
<p>Note: This function must be called in the locked state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The CoAP session. </td></tr>
    <tr><td class="paramname">request</td><td>The request to be reset.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The message id if RST was sent or <code>COAP_INVALID_MID</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="coap__net_8c_source.html#l00971">971</a> of file <a class="el" href="coap__net_8c_source.html">coap_net.c</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_ga21da56be4e4ff935d98d612687da3906_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io__internal_ga21da56be4e4ff935d98d612687da3906_icgraph.svg" width="100%" height="542"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Sep 7 2024 00:02:05 for libcoap by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
