<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcoap: Application I/O Handling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libcoap
   &#160;<span id="projectnumber">4.3.0rc3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__app__io.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Application I/O Handling</div>  </div>
</div><!--header-->
<div class="contents">

<p>API functions for Application Input / Output.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaaf3b35c7e5cf130a712198ffd54fc5b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io.html#gaaf3b35c7e5cf130a712198ffd54fc5b1">COAP_IO_WAIT</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:gaaf3b35c7e5cf130a712198ffd54fc5b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8cdde699b060a89e5f6433b61cf0a0eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io.html#ga8cdde699b060a89e5f6433b61cf0a0eb">COAP_IO_NO_WAIT</a>&#160;&#160;&#160;((uint32_t)-1)</td></tr>
<tr class="separator:ga8cdde699b060a89e5f6433b61cf0a0eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga082f7bbf15d3f37c31c2a0a5e78ea4cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io.html#ga082f7bbf15d3f37c31c2a0a5e78ea4cf">coap_io_process</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *ctx, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:ga082f7bbf15d3f37c31c2a0a5e78ea4cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main I/O processing function.  <a href="group__app__io.html#ga082f7bbf15d3f37c31c2a0a5e78ea4cf">More...</a><br /></td></tr>
<tr class="separator:ga082f7bbf15d3f37c31c2a0a5e78ea4cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2758ed5fdd6ce79ec95ea8dbf72a5644"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__app__io.html#ga2758ed5fdd6ce79ec95ea8dbf72a5644">coap_io_process_with_fds</a> (<a class="el" href="structcoap__context__t.html">coap_context_t</a> *ctx, uint32_t timeout_ms, int nfds, fd_set *readfds, fd_set *writefds, fd_set *exceptfds)</td></tr>
<tr class="memdesc:ga2758ed5fdd6ce79ec95ea8dbf72a5644"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main message processing loop with additional fds for internal select.  <a href="group__app__io.html#ga2758ed5fdd6ce79ec95ea8dbf72a5644">More...</a><br /></td></tr>
<tr class="separator:ga2758ed5fdd6ce79ec95ea8dbf72a5644"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>API functions for Application Input / Output. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga8cdde699b060a89e5f6433b61cf0a0eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8cdde699b060a89e5f6433b61cf0a0eb">&#9670;&nbsp;</a></span>COAP_IO_NO_WAIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COAP_IO_NO_WAIT&#160;&#160;&#160;((uint32_t)-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net_8h_source.html#l00548">548</a> of file <a class="el" href="net_8h_source.html">net.h</a>.</p>

</div>
</div>
<a id="gaaf3b35c7e5cf130a712198ffd54fc5b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf3b35c7e5cf130a712198ffd54fc5b1">&#9670;&nbsp;</a></span>COAP_IO_WAIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COAP_IO_WAIT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net_8h_source.html#l00547">547</a> of file <a class="el" href="net_8h_source.html">net.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga082f7bbf15d3f37c31c2a0a5e78ea4cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga082f7bbf15d3f37c31c2a0a5e78ea4cf">&#9670;&nbsp;</a></span>coap_io_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_io_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main I/O processing function. </p>
<p>All pending network I/O is completed, and then optionally waits for the next input packet.</p>
<p>This internally calls <a class="el" href="group__app__io__internal.html#gaf0cbbb00a6f2f8ac885f0e1575534e34" title="Iterates through all the coap_socket_t structures embedded in endpoints or sessions associated with t...">coap_io_prepare_io()</a>, then select() for the appropriate sockets, updates COAP_SOCKET_CAN_xxx where appropriate and then calls <a class="el" href="group__app__io__internal.html#ga2208802b0711ad20df07271b751b41dc" title="Processes any outstanding read, write, accept or connect I/O as indicated in the coap_socket_t struct...">coap_io_do_io()</a> before returning with the time spent in the function.</p>
<p>Alternatively, if libcoap is compiled with epoll support, this internally calls <a class="el" href="group__app__io__internal.html#ga3be92476a2c2c12d68c0cd07795c7e34" title="Any now timed out delayed packet is transmitted, along with any packets associated with requested obs...">coap_io_prepare_epoll()</a>, then epoll_wait() for waiting for any file descriptors that have (internally) been set up with epoll_ctl() and finally <a class="el" href="group__app__io__internal.html#ga503f851fa137eb8a9c2936e2098c5eb9" title="Process all the epoll events.">coap_io_do_epoll()</a> before returning with the time spent in the function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The CoAP context </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Minimum number of milliseconds to wait for new packets before returning after doing any processing. If COAP_IO_WAIT, the call will block until the next internal action (e.g. packet retransmit) if any, or block until the next packet is received whichever is the sooner and do the necessary processing. If COAP_IO_NO_WAIT, the function will return immediately after processing without waiting for any new input packets to arrive.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of milliseconds spent in function or <code>-1</code> if there was an error </dd></dl>

<p class="definition">Definition at line <a class="el" href="coap__io_8c_source.html#l01259">1259</a> of file <a class="el" href="coap__io_8c_source.html">coap_io.c</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io_ga082f7bbf15d3f37c31c2a0a5e78ea4cf_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__app__io_ga082f7bbf15d3f37c31c2a0a5e78ea4cf_icgraph.svg" width="355" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ga2758ed5fdd6ce79ec95ea8dbf72a5644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2758ed5fdd6ce79ec95ea8dbf72a5644">&#9670;&nbsp;</a></span>coap_io_process_with_fds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_io_process_with_fds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__context__t.html">coap_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&#160;</td>
          <td class="paramname"><em>readfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&#160;</td>
          <td class="paramname"><em>writefds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&#160;</td>
          <td class="paramname"><em>exceptfds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main message processing loop with additional fds for internal select. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The CoAP context </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Minimum number of milliseconds to wait for new packets before returning after doing any processing. If COAP_IO_WAIT, the call will block until the next internal action (e.g. packet retransmit) if any, or block until the next packet is received whichever is the sooner and do the necessary processing. If COAP_IO_NO_WAIT, the function will return immediately after processing without waiting for any new input packets to arrive. </td></tr>
    <tr><td class="paramname">nfds</td><td>The maximum FD set in readfds, writefds or exceptfds plus one, </td></tr>
    <tr><td class="paramname">readfds</td><td>Read FDs to additionally check for in internal select() or NULL if not required. </td></tr>
    <tr><td class="paramname">writefds</td><td>Write FDs to additionally check for in internal select() or NULL if not required. </td></tr>
    <tr><td class="paramname">exceptfds</td><td>Except FDs to additionally check for in internal select() or NULL if not required.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of milliseconds spent in coap_io_process_with_fds, or <code>-1</code> if there was an error. If defined, readfds, writefds, exceptfds are updated as returned by the internal select() call. </dd></dl>

<p class="definition">Definition at line <a class="el" href="coap__io_8c_source.html#l01264">1264</a> of file <a class="el" href="coap__io_8c_source.html">coap_io.c</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__app__io_ga2758ed5fdd6ce79ec95ea8dbf72a5644_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__app__io_ga2758ed5fdd6ce79ec95ea8dbf72a5644_icgraph.svg" width="514" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Apr 30 2021 09:45:25 for libcoap by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
